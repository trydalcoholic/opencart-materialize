{{ header }}{{ column_left }}
<div id="content">
	<div class="page-header">
		<div class="container-fluid">
			<h1>{{ quickorder_title }}</h1>
			<ul class="breadcrumb">
				{% for breadcrumb in breadcrumbs %}
				<li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
				{% endfor %}
			</ul>
		</div>
	</div>
	<div class="container-fluid">
		<form action="{{ action }}" method="post" enctype="multipart/form-data" id="form-quickorder" class="form-horizontal">
			<div class="row">
				<div class="col-sm-12 col-md-8">
					<div class="panel panel-default">
						<div class="panel-heading"><h3 class="panel-title"><i class="fa fa-pencil"></i> {{ text_edit }}</h3></div>
						<div class="panel-body">
							<fieldset>
								<legend>{{ text_popup }}</legend>
								<div class="form-group required">
									<label class="col-sm-2 control-label">{{ entry_success }}:</label>
									<div class="col-sm-10">
										{% for language in languages %}
										<div class="input-group">
											<span class="input-group-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}"/></span>
											<input type="text" name="module_quickorder[{{ language.language_id }}][success]" value="{{ module_quickorder[language.language_id] ? module_quickorder[language.language_id].success }}" placeholder="{{ entry_success }}" class="form-control" />
										</div>
										{% if error_success[language.language_id] %}<div class="text-danger">{{ error_success[language.language_id] }}</div>{% endif %}
										{% endfor %}
									</div>
								</div>
								<div class="form-group required">
									<label class="col-sm-2 control-label">{{ entry_button }}:</label>
									<div class="col-sm-10">
										{% for language in languages %}
										<div class="input-group">
											<span class="input-group-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}"/></span>
											<input type="text" name="module_quickorder[{{ language.language_id }}][text_button]" value="{{ module_quickorder[language.language_id] ? module_quickorder[language.language_id].text_button }}" placeholder="{{ entry_button }}" class="form-control" />
										</div>
										{% if error_text_button[language.language_id] %}<div class="text-danger">{{ error_text_button[language.language_id] }}</div>{% endif %}
										{% endfor %}
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label">{{ entry_fields }}:</label>
									<div class="col-sm-10">
										<table class="table table-striped table-bordered table-hover">
											<thead>
												<tr>
													<td class="text-left" style="width: 70%;">{{ entry_fields }}</td>
													<td class="text-center" style="width: 15%;">{{ entry_status }}</td>
													<td class="text-center" style="width: 15%;">{{ entry_required }}</td>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td class="text-left">{{ text_name }}</td>
													<td class="text-center">
														<div class="checkbox checkbox-primary">
															{% if module_quickorder_name %}
															<input type="checkbox" name="module_quickorder_name" id="quickorder-name" class="quickorder-checkbox styled" value="1" checked="checked" />
															{% else %}
															<input type="checkbox" name="module_quickorder_name" id="quickorder-name" class="quickorder-checkbox styled" value="1" />
															{% endif %}
															<label for="quickorder-name"></label>
														</div>
													</td>
													<td class="text-center">
														<div class="checkbox checkbox-primary">
															{% if module_quickorder_name_required %}
															<input type="checkbox" name="module_quickorder_name_required" id="quickorder-name-required" class="quickorder-checkbox styled" value="1" checked="checked" />
															{% else %}
															<input type="checkbox" name="module_quickorder_name_required" id="quickorder-name-required" class="quickorder-checkbox styled" value="1" />
															{% endif %}
															<label for="quickorder-name-required"></label>
														</div>
													</td>
												</tr>
												<tr>
													<td class="text-left">{{ text_email }}</td>
													<td class="text-center">
														<div class="checkbox checkbox-primary">
															{% if module_quickorder_email %}
															<input type="checkbox" name="module_quickorder_email" id="quickorder-email" class="quickorder-checkbox styled" value="1" checked="checked" />
															{% else %}
															<input type="checkbox" name="module_quickorder_email" id="quickorder-email" class="quickorder-checkbox styled" value="1" />
															{% endif %}
															<label for="quickorder-email"></label>
														</div>
													</td>
													<td class="text-center">
														<div class="checkbox checkbox-primary">
															{% if module_quickorder_email_required %}
															<input type="checkbox" name="module_quickorder_email_required" id="quickorder-email-required" class="quickorder-checkbox styled" value="1" checked="checked" />
															{% else %}
															<input type="checkbox" name="module_quickorder_email_required" id="quickorder-email-required" class="quickorder-checkbox styled" value="1" />
															{% endif %}
															<label for="quickorder-email-required"></label>
														</div>
													</td>
												</tr>
												<tr>
													<td class="text-left">{{ text_enquiry }}</td>
													<td class="text-center">
														<div class="checkbox checkbox-primary">
															{% if module_quickorder_enquiry %}
															<input type="checkbox" name="module_quickorder_enquiry" id="quickorder-enquiry" class="quickorder-checkbox styled" value="1" checked="checked" />
															{% else %}
															<input type="checkbox" name="module_quickorder_enquiry" id="quickorder-enquiry" class="quickorder-checkbox styled" value="1" />
															{% endif %}
															<label for="quickorder-enquiry"></label>
														</div>
													</td>
													<td class="text-center">
														<div class="checkbox checkbox-primary">
															{% if module_quickorder_enquiry_required %}
															<input type="checkbox" name="module_quickorder_enquiry_required" id="quickorder-enquiry-required" class="quickorder-checkbox styled" value="1" checked="checked" />
															{% else %}
															<input type="checkbox" name="module_quickorder_enquiry_required" id="quickorder-enquiry-required" class="quickorder-checkbox styled" value="1" />
															{% endif %}
															<label for="quickorder-enquiry-required"></label>
														</div>
													</td>
												</tr>
												<tr>
													<td class="text-left">{{ text_call_time }}</td>
													<td class="text-center">
														<div class="checkbox checkbox-primary">
															{% if module_quickorder_calltime %}
															<input type="checkbox" name="module_quickorder_calltime" id="quickorder-calltime" class="quickorder-checkbox styled" value="1" checked="checked" />
															{% else %}
															<input type="checkbox" name="module_quickorder_calltime" id="quickorder-calltime" class="quickorder-checkbox styled" value="1" />
															{% endif %}
															<label for="quickorder-calltime"></label>
														</div>
													</td>
													<td class="text-center">
														<div class="checkbox checkbox-primary">
															{% if module_quickorder_calltime_required %}
															<input type="checkbox" name="module_quickorder_calltime_required" id="quickorder-calltime-required" class="quickorder-checkbox styled" value="1" checked="checked" />
															{% else %}
															<input type="checkbox" name="module_quickorder_calltime_required" id="quickorder-calltime-required" class="quickorder-checkbox styled" value="1" />
															{% endif %}
															<label for="quickorder-calltime-required"></label>
														</div>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label">{{ entry_button_color }}:</label>
									<div class="col-sm-4">
										<select name="module_quickorder_color_btn" class="selectpicker selectpicker-live-search show-tick">
											{% for color in module_quickorder_colors %}
											{% if color.name == module_quickorder_color_btn %}
											<option value="{{ color.name }}" class="{{ color.name }}" style="background: #{{ color.hex }};" selected="selected">{{ color.name }}</option>
											{% else %}
											<option value="{{ color.name }}" class="{{ color.name }}" style="background: #{{ color.hex }};">{{ color.name }}</option>
											{% endif %}
											{% endfor %}
										</select>
										<select name="module_quickorder_color_btn_text" class="selectpicker selectpicker-live-search show-tick">
											{% for color in module_quickorder_colors_text %}
											{% if color.name == module_quickorder_color_btn_text %}
											<option value="{{ color.name }}" class="{{ color.name }}" style="background: #{{ color.hex }};" selected="selected">{{ color.name }}</option>
											{% else %}
											<option value="{{ color.name }}" class="{{ color.name }}" style="background: #{{ color.hex }};">{{ color.name }}</option>
											{% endif %}
											{% endfor %}
										</select>
									</div>
								</div>
							</fieldset>
							<br>
							<fieldset>
								<legend>{{ text_settings }}</legend>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="quickorder-agreement"><span data-toggle="tooltip" title="{{ help_checkout }}">{{ entry_checkout }}:</span></label>
									<div class="col-sm-10">
										<select name="module_quickorder_agreement" id="quickorder-agreement" class="selectpicker show-tick" data-width="100%">
											<option value="0">{{ text_none }}</option>
											{% for information in informations %}
											{% if information.information_id == module_quickorder_agreement %}
											<option value="{{ information.information_id }}" selected="selected">{{ information.title }}</option>
											{% else %}
											<option value="{{ information.information_id }}">{{ information.title }}</option>
											{% endif %}
											{% endfor %}
										</select>
									</div>
								</div>
							</fieldset>
						</div>
						<div id="footer-appeal-users" class="panel-footer text-center"></div>
					</div>
				</div>
				<div class="col-sm-12 col-md-4">
					<div class="panel panel-default" id="panel-data">
						<div class="panel-heading"><h3 class="panel-title"><i class="fa fa-power-off"></i> {{ entry_status }}</h3></div>
						<div class="panel-body">
							<select name="module_quickorder_status" id="input-status" class="selectpicker show-tick" data-width="100%">
								{% if module_quickorder_status %}
								<option value="1" selected="selected" data-icon="fa-toggle-on">{{ text_enabled }}</option>
								<option value="0" data-icon="fa-toggle-off">{{ text_disabled }}</option>
								{% else %}
								<option value="1" data-icon="fa-toggle-on">{{ text_enabled }}</option>
								<option value="0" selected="selected" data-icon="fa-toggle-off">{{ text_disabled }}</option>
								{% endif %}
							</select>
						</div>
						<div class="panel-footer">
							<div class="row">
								<div class="col-sm-6">
									<a href="{{ cancel }}" data-toggle="tooltip" title="{{ button_cancel }}" class="btn btn-default"><i class="fa fa-reply"></i> {{ button_cancel }}</a>
								</div>
								<div class="col-sm-6 text-right">
									<button type="submit" form="form-quickorder" title="{{ button_save }}" data-toggle="tooltip" class="btn btn-primary"><i class="fa fa-save"></i> {{ button_save }}</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<input type="hidden" name="module_quickorder_installed_appeal" value="0">
		</form>
	</div>
</div>
<script type="text/javascript">
	var checkboxName = $("#quickorder-name"),
		checkboxEmail = $("#quickorder-email"),
		checkboxEnquiry = $("#quickorder-enquiry"),
		checkboxCalltime = $("#quickorder-calltime"),
		checkboxNameRequired = $("#quickorder-name-required"),
		checkboxEmailRequired = $("#quickorder-email-required"),
		checkboxEnquiryRequired = $("#quickorder-enquiry-required"),
		checkboxCalltimeRequired = $("#quickorder-calltime-required"),
		quickorderCheckbox = $(".quickorder-checkbox");

	if (checkboxName.prop("checked")) {
		checkboxNameRequired.attr("disabled", false);
	} else {
		checkboxNameRequired.attr("disabled", true);
		checkboxNameRequired.removeAttr("checked");
	}
	if (checkboxEmail.prop("checked")) {
		checkboxEmailRequired.attr("disabled", false);
	} else {
		checkboxEmailRequired.attr("disabled", true);
		checkboxEmailRequired.removeAttr("checked");
	}
	if (checkboxEnquiry.prop("checked")) {
		checkboxEnquiryRequired.attr("disabled", false);
	} else {
		checkboxEnquiryRequired.attr("disabled", true);
		checkboxEnquiryRequired.removeAttr("checked");
	}
	if (checkboxCalltime.prop("checked")) {
		checkboxCalltimeRequired.attr("disabled", false);
	} else {
		checkboxCalltimeRequired.attr("disabled", true);
		checkboxCalltimeRequired.removeAttr("checked");
	}

	quickorderCheckbox.on("click", function() {
		if (checkboxName.prop("checked")) {
			checkboxNameRequired.attr("disabled", false);
		} else {
			checkboxNameRequired.attr("disabled", true);
			checkboxNameRequired.removeAttr("checked");
		}
		if (checkboxEmail.prop("checked")) {
			checkboxEmailRequired.attr("disabled", false);
		} else {
			checkboxEmailRequired.attr("disabled", true);
			checkboxEmailRequired.removeAttr("checked");
		}
		if (checkboxEnquiry.prop("checked")) {
			checkboxEnquiryRequired.attr("disabled", false);
		} else {
			checkboxEnquiryRequired.attr("disabled", true);
			checkboxEnquiryRequired.removeAttr("checked");
		}
		if (checkboxCalltime.prop("checked")) {
			checkboxCalltimeRequired.attr("disabled", false);
		} else {
			checkboxCalltimeRequired.attr("disabled", true);
			checkboxCalltimeRequired.removeAttr("checked");
		}
	});

	// Selectpicker
	$('.selectpicker.selectpicker-live-search').selectpicker({
		size: 10,
		liveSearch: true,
		iconBase: 'fa',
		tickIcon: 'fa-check'
	});

	{% if error_warning %}
	$.notify({
		icon: 'fa fa-exclamation-circle',
		message: '{{ error_warning }}'
	},{
		type: "danger"
	});
	{% endif %}

	{% for language in languages %}
		{% if error_success[language.language_id] %}
		$.notify({
			icon: 'fa fa-exclamation-circle',
			message: '{{ error_success[language.language_id] }}'
		},{
			type: "danger"
		});
		{% endif %}
		{% if error_text_button[language.language_id] %}
		$.notify({
			icon: 'fa fa-exclamation-circle',
			message: '{{ error_text_button[language.language_id] }}'
		},{
			type: "danger"
		});
		{% endif %}
	{% endfor %}

	$('#footer-appeal-users').load('index.php?route=extension/materialize/appeal/installed/footer&user_token={{ user_token }}');

	{% if module_quickorder_installed_appeal %}
	$.ajax({
		url: 'index.php?route=extension/materialize/appeal/installed&modal_title={{ quickorder_title }}&user_token={{ user_token }}',
		dataType: 'html',
		success: function(html) {
			$('#modal-materialize-installed').remove();

			$('body').prepend(html);

			$('#modal-materialize-installed').modal('show');
		},
		error: function(xhr, ajaxOptions, thrownError) {
			alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
		}
	});
	{% endif %}
</script>
{{ footer }}